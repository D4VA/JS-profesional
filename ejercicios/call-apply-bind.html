<!Doctype html>
<html lang="en">
    <head>
        <title>call-apply-bind</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <a href="/ejercicios/">Go back</a>
        <p><em> Abre la consola </em></p>
        <script src="https://unpkg.com/jquery@3.3.1/dist/jquery.js"></script>

        <ul>
            <li><button class="call-to-action"> aprender</button></li>
            <li><button class="call-to-action"> Aprender mas</button></li>
            <li><button class="call-to-action">Nunca parar de aprender!</button></li>
        </ul>

        <script>
            //classname se llamara para darle texto a los botones mas adelante

            //Establece this usando call
            //Establece this usando call y pasar argumentos a la funcion
            function saludar(){
                console.log(`Hola, soy ${this.name} ${this.apellido}`)
            }

            const Dav = {
                name: 'Diego',
                apellido: 'Velasquez Avila'
            }

            saludar.call(Dav)


            function caminar (metros, direccion){
                console.log(`${this.name} camina ${metros} metros hacia ${direccion}.`)
            }

            caminar.call(Dav, 100, 'zona12')

            //Establece this usando apply y pasar ardumentos a la funcion

            const valores = [800, 'noreste']
            caminar.apply(Dav, [800, "noreste"]);
            
            /* 
                call = comma (argumentos separados por ,)
                apply = array (arreglo) 
                recordatorio para diferenciar
            */

            //Establece this en una nueva funcion usando 'bind'

            const melanie = {name: 'Melanie', apellido: 'Payes'}
            const melaniesaluda = saludar.bind(melanie)
            
            melaniesaluda()

            const melanieCamina = caminar.bind(melanie, 1000)
            melanieCamina('sur')

            //Cuando es util usar uno de estos metodos
        
            const buttons = document.getElementsByClassName("call-to-action")
            //La funcion no la leera, asi que hay que declararla como array
            //y cambiarle la funcion a call (esto es posible por los prototype)

            // buttons.forEach(button => {
            //     button.onclick = () => alert("Nunca pares de aprender!")
            // })

            
            //Nodelist 
            
            Array.prototype.forEach.call(buttons, button =>{
                button.onclick = () => alert ("Nunca pares de aprender!")
            })

        </script>

    </body>
</html>